(()=>{var e={};e.id=358,e.ids=[220,358,636],e.modules={6289:e=>{e.exports={viewCount:"ViewCounter_viewCount__CArR4"}},8605:e=>{e.exports={container:"article_container__uEGY_",header:"article_header__Dfu8i",title:"article_title__Kemkb",meta:"article_meta__EQMJH",date:"article_date__8Zsel",category:"article_category__FEprG",tags:"article_tags__SeZQL",tag:"article_tag__xFxqV",content:"article_content__xXtEi",footer:"article_footer__5JN_G",navigation:"article_navigation__fJhBJ",backButton:"article_backButton__FZQSF",errorMessage:"article_errorMessage__DYWZw"}},3135:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>m,getStaticProps:()=>h,reportWebVitals:()=>p,routeModule:()=>S,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>_});var s=a(3865),i=a(9455),n=a(671),c=a(6530),l=a(3200),o=a(4936),d=e([o]);o=(d.then?(await d)():d)[0];let u=(0,n.M)(o,"default"),h=(0,n.M)(o,"getStaticProps"),m=(0,n.M)(o,"getStaticPaths"),x=(0,n.M)(o,"getServerSideProps"),g=(0,n.M)(o,"config"),p=(0,n.M)(o,"reportWebVitals"),_=(0,n.M)(o,"unstable_getStaticProps"),f=(0,n.M)(o,"unstable_getStaticPaths"),j=(0,n.M)(o,"unstable_getStaticParams"),v=(0,n.M)(o,"unstable_getServerProps"),y=(0,n.M)(o,"unstable_getServerSideProps"),S=new s.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/blog/[id]",pathname:"/blog/[id]",bundlePath:"",filename:""},components:{App:l.default,Document:c.default},userland:o});r()}catch(e){r(e)}})},8318:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(8732);let s=()=>(0,r.jsx)("header",{className:"nav",children:(0,r.jsxs)("div",{className:"nav-container",children:[(0,r.jsx)("a",{href:"/",className:"nav-brand",children:"我的博客"}),(0,r.jsxs)("div",{className:"nav-links",children:[(0,r.jsx)("a",{href:"/",className:"nav-link",children:"首页"}),(0,r.jsx)("a",{href:"/blog",className:"nav-link",children:"文章"}),(0,r.jsx)("a",{href:"/categories",className:"nav-link",children:"分类"}),(0,r.jsx)("a",{href:"/about",className:"nav-link",children:"关于我"})]})]})}),i=()=>(0,r.jsx)("footer",{className:"footer",children:(0,r.jsx)("p",{children:"\xa9 2024 个人博客. All rights reserved."})}),n=({children:e})=>(0,r.jsxs)("div",{className:"layout",children:[(0,r.jsx)(s,{}),(0,r.jsx)("main",{children:e}),(0,r.jsx)(i,{})]})},4158:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(8732),s=a(2015),i=a(6289),n=a.n(i);let c=({articleId:e})=>{let[t,a]=(0,s.useState)(0),[i,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{try{let t=await fetch(`/api/articles/${e}/views`,{method:"POST"}),r=await t.json();a(r.views),c(!1)}catch(e){console.error("Error incrementing views:",e),c(!1)}})()},[e]),i)?(0,r.jsx)("span",{className:n().viewCount,children:"--"}):(0,r.jsxs)("span",{className:n().viewCount,children:[(0,r.jsx)("i",{className:"far fa-eye"})," ",t," 次浏览"]})}},2486:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{CL:()=>d,tY:()=>o,zX:()=>l});var s=a(8114),i=a(8328),n=e([s,i]);async function c(){{let e=await Promise.resolve().then(a.t.bind(a,9021,23)),t=await Promise.resolve().then(a.t.bind(a,3873,23)),r=(await Promise.resolve().then(a.t.bind(a,3531,23))).default,n=t.join(process.cwd(),"src/content/posts");return{getAllPosts:function(){return e.readdirSync(n).map(a=>{let s=a.replace(/\.md$/,""),i=t.join(n,a),c=e.readFileSync(i,"utf8"),l=r(c);return{id:s,...l.data,views:0}}).sort((e,t)=>e.date<t.date?1:-1)},getPostById:async function(a){let c=t.join(n,`${a}.md`),l=e.readFileSync(c,"utf8"),o=r(l),d=(await (0,s.remark)().use(i.default).process(o.content)).toString();return{id:a,contentHtml:d,...o.data,views:0}},getAllPostIds:function(){return e.readdirSync(n).map(e=>e.replace(/\.md$/,""))}}}}async function l(){try{let e=(await c()).getAllPosts();return Array.isArray(e)?e:[]}catch(e){return console.error("Error in getAllPosts:",e),[]}}async function o(e){return(await c()).getPostById(e)}async function d(){return(await c()).getAllPostIds()}[s,i]=n.then?(await n)():n,r()}catch(e){r(e)}})},3200:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(8732);a(9361);let s=function({Component:e,pageProps:t}){return(0,r.jsx)(e,{...t})}},6530:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(8732),s=a(883),i=a.n(s);class n extends i(){render(){return(0,r.jsxs)(s.Html,{children:[(0,r.jsx)(s.Head,{children:(0,r.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"})}),(0,r.jsxs)("body",{children:[(0,r.jsx)(s.Main,{}),(0,r.jsx)(s.NextScript,{})]})]})}}let c=n},4936:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{default:()=>g,getStaticPaths:()=>m,getStaticProps:()=>x});var s=a(8732),i=a(8318),n=a(2486),c=a(4158),l=a(1106),o=a.n(l),d=a(8605),u=a.n(d),h=e([n]);async function m(){return{paths:(await (0,n.CL)()).map(e=>({params:{id:e}})),fallback:!1}}async function x({params:e}){return{props:{article:await (0,n.tY)(e.id)||null}}}n=(h.then?(await h)():h)[0];let g=({article:e})=>e?(0,s.jsx)(i.A,{children:(0,s.jsxs)("article",{className:u().container,children:[(0,s.jsxs)("header",{className:u().header,children:[(0,s.jsx)("h1",{className:u().title,children:e.title}),(0,s.jsxs)("div",{className:u().meta,children:[(0,s.jsx)("span",{className:u().date,children:e.date}),(0,s.jsx)(o(),{href:`/articles?category=${encodeURIComponent(e.category)}`,className:u().category,children:e.category}),(0,s.jsx)(c.A,{articleId:e.id})]}),(0,s.jsx)("div",{className:u().tags,children:e.tags.map(e=>(0,s.jsxs)(o(),{href:`/articles?tag=${encodeURIComponent(e)}`,className:u().tag,children:["#",e]},e))})]}),(0,s.jsx)("div",{className:u().content,dangerouslySetInnerHTML:{__html:e.contentHtml}}),(0,s.jsx)("footer",{className:u().footer,children:(0,s.jsx)("div",{className:u().navigation,children:(0,s.jsx)(o(),{href:"/blog",className:u().backButton,children:"返回文章列表"})})})]})}):(0,s.jsx)(i.A,{children:(0,s.jsx)("div",{className:u().container,children:(0,s.jsx)("div",{className:u().errorMessage,children:"文章不存在"})})});r()}catch(e){r(e)}})},9361:()=>{},3531:e=>{"use strict";e.exports=require("gray-matter")},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{"use strict";e.exports=require("react")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")},3873:e=>{"use strict";e.exports=require("path")},8114:e=>{"use strict";e.exports=import("remark")},8328:e=>{"use strict";e.exports=import("remark-html")}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[883,990],()=>a(3135));module.exports=r})();