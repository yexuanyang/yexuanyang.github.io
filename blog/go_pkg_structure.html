<!DOCTYPE html><html lang="zh-CN"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width, initial-scale=1" data-next-head=""/><meta charSet="utf-8"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/><link rel="preload" href="/_next/static/css/71c3005585daf34a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/71c3005585daf34a.css" data-n-g=""/><link rel="preload" href="/_next/static/css/d30dc8bfc45a058b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d30dc8bfc45a058b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-b96261d959dd50e7.js" defer=""></script><script src="/_next/static/chunks/main-5641a5f61dc27c0f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a20eeb038bec1046.js" defer=""></script><script src="/_next/static/chunks/106-a71b11894cb18610.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bid%5D-99312d6fcde602f9.js" defer=""></script><script src="/_next/static/20UMOGqztqylNLBnC72Ga/_buildManifest.js" defer=""></script><script src="/_next/static/20UMOGqztqylNLBnC72Ga/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="layout"><header class="nav"><div class="nav-container"><a href="/" class="nav-brand">人生何处不青山</a><div class="nav-links"><a href="/" class="nav-link">首页</a><a href="/blog" class="nav-link">文章</a><a href="/categories" class="nav-link">分类</a><a href="/about" class="nav-link">关于我</a></div></div></header><main class="container"><article class="article_container__uEGY_"><header class="article_header__Dfu8i"><h1 class="article_title__Kemkb">Go语言包结构</h1><div class="article_meta__EQMJH"><span class="article_date__8Zsel">2023-07-31</span><a class="article_category__FEprG" href="/articles?category=GO">GO</a></div><div class="article_tags__SeZQL"><a class="article_tag__xFxqV" href="/articles?tag=GO">#<!-- -->GO</a></div></header><div class="article_content__xXtEi"><h2>包</h2>
<p>每一个文件都需要属于一个包，每一个程序都要有一个main包，包名必须是小写字母组成；main包里面要有main函数，main函数不能有返回值和参数</p>
<p>如果编译包名不是main的包，那么生成的是.a文件而不是可执行文件</p>
<p>属于同一个包的源文件必须同时被编译，因此一个目录下一般存放一个包的源文件</p>
<p>构建程序必须要按照合理的顺序去编译包</p>
<p>如果修改了一个包，那么所有引用了这个包的客户端程序都需要重新编译</p>
<h3>包的依赖</h3>
<p>采用显式依赖关系</p>
<p>使用import链接各个包</p>
<h3>包的导入</h3>
<p>导入多个包时，按字母顺序导入</p>
<p>路径问题：</p>
<ul>
<li>如果使用/开头，采用绝对路径查找包</li>
<li>./开头，采用相对路径查找</li>
<li>没有./或者/开头，在全局文件中查找</li>
</ul>
<h3>可见性标识</h3>
<p>标识符（常量，变量，类型，函数名，结构字段等）以大写字母开头标识对其他包可见，小写字母标识不可见</p>
<h3>包名冲突</h3>
<p>包名冲突可以使用别名来解决</p>
<p><code>import fm "fmt"</code>导入fmt包并用fm当作它的别名</p>
<h2>标准库和标准包</h2>
<p>标准库的存放位置：</p>
<ul>
<li>windows下存放在 <code>pkg/windows_386</code></li>
<li>linux 32存放在 <code>pkg/linux_386</code>,64存放在 <code>pkg/linux_amd64</code></li>
</ul>
<p>标准包的存放位置，一般为：</p>
<p><code>$GOROOT/pkg/$GOOS_$GOARCH/</code></p>
</div><footer class="article_footer__5JN_G"><div class="article_navigation__fJhBJ"><a class="article_backButton__FZQSF" href="/blog">返回文章列表</a></div></footer></article></main><footer class="footer"><p>© 2024 个人博客. All rights reserved.</p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"id":"go_pkg_structure","contentHtml":"\u003ch2\u003e包\u003c/h2\u003e\n\u003cp\u003e每一个文件都需要属于一个包，每一个程序都要有一个main包，包名必须是小写字母组成；main包里面要有main函数，main函数不能有返回值和参数\u003c/p\u003e\n\u003cp\u003e如果编译包名不是main的包，那么生成的是.a文件而不是可执行文件\u003c/p\u003e\n\u003cp\u003e属于同一个包的源文件必须同时被编译，因此一个目录下一般存放一个包的源文件\u003c/p\u003e\n\u003cp\u003e构建程序必须要按照合理的顺序去编译包\u003c/p\u003e\n\u003cp\u003e如果修改了一个包，那么所有引用了这个包的客户端程序都需要重新编译\u003c/p\u003e\n\u003ch3\u003e包的依赖\u003c/h3\u003e\n\u003cp\u003e采用显式依赖关系\u003c/p\u003e\n\u003cp\u003e使用import链接各个包\u003c/p\u003e\n\u003ch3\u003e包的导入\u003c/h3\u003e\n\u003cp\u003e导入多个包时，按字母顺序导入\u003c/p\u003e\n\u003cp\u003e路径问题：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e如果使用/开头，采用绝对路径查找包\u003c/li\u003e\n\u003cli\u003e./开头，采用相对路径查找\u003c/li\u003e\n\u003cli\u003e没有./或者/开头，在全局文件中查找\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e可见性标识\u003c/h3\u003e\n\u003cp\u003e标识符（常量，变量，类型，函数名，结构字段等）以大写字母开头标识对其他包可见，小写字母标识不可见\u003c/p\u003e\n\u003ch3\u003e包名冲突\u003c/h3\u003e\n\u003cp\u003e包名冲突可以使用别名来解决\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eimport fm \"fmt\"\u003c/code\u003e导入fmt包并用fm当作它的别名\u003c/p\u003e\n\u003ch2\u003e标准库和标准包\u003c/h2\u003e\n\u003cp\u003e标准库的存放位置：\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ewindows下存放在 \u003ccode\u003epkg/windows_386\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003elinux 32存放在 \u003ccode\u003epkg/linux_386\u003c/code\u003e,64存放在 \u003ccode\u003epkg/linux_amd64\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e标准包的存放位置，一般为：\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e$GOROOT/pkg/$GOOS_$GOARCH/\u003c/code\u003e\u003c/p\u003e\n","title":"Go语言包结构","date":"2023-07-31","category":"GO","tags":["GO"],"summary":"简要介绍GO语言的包结构","views":0}},"__N_SSG":true},"page":"/blog/[id]","query":{"id":"go_pkg_structure"},"buildId":"20UMOGqztqylNLBnC72Ga","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>