---
title: 'Go语言包结构'
date: '2023-07-31'
category: 'GO'
tags: ['GO']
summary: '简要介绍GO语言的包结构'
---

## 包

每一个文件都需要属于一个包，每一个程序都要有一个main包，包名必须是小写字母组成；main包里面要有main函数，main函数不能有返回值和参数

如果编译包名不是main的包，那么生成的是.a文件而不是可执行文件

属于同一个包的源文件必须同时被编译，因此一个目录下一般存放一个包的源文件

构建程序必须要按照合理的顺序去编译包

如果修改了一个包，那么所有引用了这个包的客户端程序都需要重新编译

### 包的依赖

采用显式依赖关系

使用import链接各个包

### 包的导入

导入多个包时，按字母顺序导入

路径问题：

- 如果使用/开头，采用绝对路径查找包
- ./开头，采用相对路径查找
- 没有./或者/开头，在全局文件中查找

### 可见性标识

标识符（常量，变量，类型，函数名，结构字段等）以大写字母开头标识对其他包可见，小写字母标识不可见

### 包名冲突

包名冲突可以使用别名来解决

`import fm "fmt"`导入fmt包并用fm当作它的别名

## 标准库和标准包

标准库的存放位置：

- windows下存放在 `pkg/windows_386`
- linux 32存放在 `pkg/linux_386`,64存放在 `pkg/linux_amd64`

标准包的存放位置，一般为：

`$GOROOT/pkg/$GOOS_$GOARCH/`
